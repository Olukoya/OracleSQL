# OracleSQL

--create Transaction Table
CREATE TABLE Transactions
(
TransID int PRIMARY KEY,
UserID int,
Amount number(18,2),
TransDate date
);

--populate Transaction Table
INSERT INTO Transactions
(TRANSID,USERID,AMOUNT,TRANSDATE)
VALUES
(1,30,-34,TO_DATE('2015-08-01','YYYY-MM-DD'));

INSERT INTO Transactions
(TRANSID,USERID,AMOUNT,TRANSDATE)
VALUES
(2,81,1200,TO_DATE('2015-08-02','YYYY-MM-DD'));

INSERT INTO Transactions
(TRANSID,USERID,AMOUNT,TRANSDATE)
VALUES
(3,30,-45,TO_DATE('2015-08-02','YYYY-MM-DD'));

INSERT INTO Transactions
(TRANSID,USERID,AMOUNT,TRANSDATE)
VALUES
(4,18,.12,TO_DATE('2015-08-03','YYYY-MM-DD'));

INSERT INTO Transactions
(TRANSID,USERID,AMOUNT,TRANSDATE)
VALUES
(5,30,-.05,TO_DATE('2015-08-01','YYYY-MM-DD'));

INSERT INTO Transactions
(TRANSID,USERID,AMOUNT,TRANSDATE)
VALUES
(6,81,200,TO_DATE('2015-08-06','YYYY-MM-DD'));

INSERT INTO Transactions
(TRANSID,USERID,AMOUNT,TRANSDATE)
VALUES
(7,18,-81,TO_DATE('2015-08-07','YYYY-MM-DD'));

INSERT INTO Transactions
(TRANSID,USERID,AMOUNT,TRANSDATE)
VALUES
(8,77,-34,TO_DATE('2015-08-01','YYYY-MM-DD'));

INSERT INTO Transactions
(TRANSID,USERID,AMOUNT,TRANSDATE)
VALUES
(9,77,200,TO_DATE('2015-08-06','YYYY-MM-DD'));

INSERT INTO Transactions
(TRANSID,USERID,AMOUNT,TRANSDATE)
VALUES
(10,90,200,TO_DATE('2015-08-06','YYYY-MM-DD'));

INSERT INTO Transactions
(TRANSID,USERID,AMOUNT,TRANSDATE)
VALUES
(11,90,-40,TO_DATE('2015-08-09','YYYY-MM-DD'));

--create Account Table
CREATE TABLE Accounts
(
AccountNo INT PRIMARY KEY,
AccountName varchar(50),
StartingBalance number(18,2),
AccountType varchar (50)
);

--populate Accounts Table
INSERT INTO Accounts
(ACCOUNTNO,ACCOUNTNAME,STARTINGBALANCE,ACCOUNTTYPE)
VALUES
(77,'Barney',1000,'Checking');

INSERT INTO Accounts
(ACCOUNTNO,ACCOUNTNAME,STARTINGBALANCE,ACCOUNTTYPE)
VALUES
(81,'Charizard',1200,'Checking');

INSERT INTO Accounts
(ACCOUNTNO,ACCOUNTNAME,STARTINGBALANCE,ACCOUNTTYPE)
VALUES
(18,'Super Saiyan',200000,'Money Market');

INSERT INTO Accounts
(ACCOUNTNO,ACCOUNTNAME,STARTINGBALANCE,ACCOUNTTYPE)
VALUES
(30,'Oscar the Grouch',.93,'Savings');

INSERT INTO Accounts
(ACCOUNTNO,ACCOUNTNAME,STARTINGBALANCE,ACCOUNTTYPE)
VALUES
(90,'Baller',100000,'Savings');

--answering the questions
select * from TRANSACTIONS;
select * from ACCOUNTS;

--transaction summary
SELECT ACCOUNTS.ACCOUNTNAME, ACCOUNTS.STARTINGBALANCE, ACCOUNTS.ACCOUNTTYPE,
TRANSACTIONS.USERID, TRANSACTIONS.AMOUNT, TRANSACTIONS.TRANSDATE
FROM ACCOUNTS 
INNER JOIN TRANSACTIONS
ON ACCOUNTS.ACCOUNTNO = TRANSACTIONS.USERID
WHERE TRANSACTIONS.USERID = 30
ORDER BY TRANSACTIONS.TRANSDATE ASC;

--current balances
SELECT ACCOUNTS.ACCOUNTNAME,  ACCOUNTS.ACCOUNTTYPE,ACCOUNTS.STARTINGBALANCE,
TRANSACTIONS.USERID, ACCOUNTS.STARTINGBALANCE + SUM (TRANSACTIONS.AMOUNT) AS CURRENTBALANCE
FROM ACCOUNTS 
INNER JOIN TRANSACTIONS
ON ACCOUNTS.ACCOUNTNO = TRANSACTIONS.USERID
GROUP BY ACCOUNTS.ACCOUNTNAME, ACCOUNTS.STARTINGBALANCE, ACCOUNTS.ACCOUNTTYPE,
TRANSACTIONS.USERID
ORDER BY CURRENTBALANCE ASC;
